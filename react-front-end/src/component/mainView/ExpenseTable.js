import React from 'react';
import { getTotalExpensesForUser } from '../../helpers/helper_functions';

export default function ExpenseTable(props) {
  const state = {
    user: "Kevin",
    expenses: [
      {
        id: 1,
        user_id: 1,
        created_at: "2021-12-29T08:00:00.000Z",
        amount: 9928,
        category_id: 6,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-31T07:00:00.000Z",
        amount: 190,
        category_id: 10,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-06-29T07:00:00.000Z",
        amount: 9048,
        category_id: 9,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-03-22T07:00:00.000Z",
        amount: 8329,
        category_id: 3,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-06-05T07:00:00.000Z",
        amount: 6810,
        category_id: 3,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-08-27T07:00:00.000Z",
        amount: 6745,
        category_id: 8,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-10-26T07:00:00.000Z",
        amount: 1501,
        category_id: 7,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-03-08T08:00:00.000Z",
        amount: 3435,
        category_id: 4,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-01-29T08:00:00.000Z",
        amount: 9655,
        category_id: 8,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-10-18T07:00:00.000Z",
        amount: 9488,
        category_id: 9,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-04-16T07:00:00.000Z",
        amount: 8400,
        category_id: 8,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2022-02-16T08:00:00.000Z",
        amount: 2943,
        category_id: 9,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-03-04T08:00:00.000Z",
        amount: 8109,
        category_id: 8,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-10-24T07:00:00.000Z",
        amount: 2888,
        category_id: 9,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-09-23T07:00:00.000Z",
        amount: 6176,
        category_id: 1,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-08-11T07:00:00.000Z",
        amount: 8094,
        category_id: 1,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-12-10T08:00:00.000Z",
        amount: 655,
        category_id: 4,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-04-29T07:00:00.000Z",
        amount: 6272,
        category_id: 9,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2022-04-20T07:00:00.000Z",
        amount: 90,
        category_id: 7,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-10-29T07:00:00.000Z",
        amount: 4201,
        category_id: 10,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2022-01-28T08:00:00.000Z",
        amount: 6016,
        category_id: 8,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2022-02-20T08:00:00.000Z",
        amount: 5958,
        category_id: 10,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-24T07:00:00.000Z",
        amount: 9894,
        category_id: 2,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-01-08T08:00:00.000Z",
        amount: 5867,
        category_id: 4,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-01-07T08:00:00.000Z",
        amount: 5558,
        category_id: 10,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-01-05T08:00:00.000Z",
        amount: 6068,
        category_id: 9,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-04-22T07:00:00.000Z",
        amount: 9039,
        category_id: 8,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-09-05T07:00:00.000Z",
        amount: 1252,
        category_id: 8,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-01-18T08:00:00.000Z",
        amount: 8840,
        category_id: 10,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-08-22T07:00:00.000Z",
        amount: 5633,
        category_id: 4,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-04-13T07:00:00.000Z",
        amount: 9470,
        category_id: 3,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-08-30T07:00:00.000Z",
        amount: 1110,
        category_id: 3,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-11-16T08:00:00.000Z",
        amount: 228,
        category_id: 9,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-13T08:00:00.000Z",
        amount: 1200,
        category_id: 9,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-08-05T07:00:00.000Z",
        amount: 9986,
        category_id: 4,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2022-03-09T08:00:00.000Z",
        amount: 631,
        category_id: 10,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-10-11T07:00:00.000Z",
        amount: 8590,
        category_id: 2,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-27T07:00:00.000Z",
        amount: 240,
        category_id: 9,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-06-07T07:00:00.000Z",
        amount: 6417,
        category_id: 6,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-06-18T07:00:00.000Z",
        amount: 6767,
        category_id: 1,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-05-02T07:00:00.000Z",
        amount: 6018,
        category_id: 8,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-10-18T07:00:00.000Z",
        amount: 55,
        category_id: 7,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-12-02T08:00:00.000Z",
        amount: 6993,
        category_id: 3,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-07-07T07:00:00.000Z",
        amount: 7042,
        category_id: 1,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-30T07:00:00.000Z",
        amount: 7889,
        category_id: 1,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-08-08T07:00:00.000Z",
        amount: 7780,
        category_id: 3,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-01-04T08:00:00.000Z",
        amount: 7387,
        category_id: 3,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-02-24T08:00:00.000Z",
        amount: 3739,
        category_id: 9,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-11-17T08:00:00.000Z",
        amount: 7803,
        category_id: 2,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-03-16T07:00:00.000Z",
        amount: 3561,
        category_id: 10,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-21T07:00:00.000Z",
        amount: 4892,
        category_id: 4,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2022-04-17T07:00:00.000Z",
        amount: 5315,
        category_id: 2,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-03-08T08:00:00.000Z",
        amount: 4998,
        category_id: 2,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2022-04-12T07:00:00.000Z",
        amount: 4411,
        category_id: 3,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-03-19T07:00:00.000Z",
        amount: 8092,
        category_id: 9,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-07-24T07:00:00.000Z",
        amount: 8149,
        category_id: 1,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-02-17T08:00:00.000Z",
        amount: 1709,
        category_id: 4,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-08-30T07:00:00.000Z",
        amount: 8750,
        category_id: 6,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-10-14T07:00:00.000Z",
        amount: 4865,
        category_id: 4,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-05-07T07:00:00.000Z",
        amount: 9121,
        category_id: 8,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-10-04T07:00:00.000Z",
        amount: 4160,
        category_id: 4,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-07-05T07:00:00.000Z",
        amount: 8075,
        category_id: 8,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-05-25T07:00:00.000Z",
        amount: 7060,
        category_id: 8,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-05-22T07:00:00.000Z",
        amount: 2332,
        category_id: 2,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2022-05-05T07:00:00.000Z",
        amount: 1659,
        category_id: 10,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-08-30T07:00:00.000Z",
        amount: 7100,
        category_id: 8,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-02-27T08:00:00.000Z",
        amount: 4744,
        category_id: 9,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-03-28T07:00:00.000Z",
        amount: 2144,
        category_id: 1,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-10-17T07:00:00.000Z",
        amount: 1112,
        category_id: 10,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-15T07:00:00.000Z",
        amount: 6346,
        category_id: 1,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-11-13T08:00:00.000Z",
        amount: 9696,
        category_id: 1,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-01-01T08:00:00.000Z",
        amount: 3623,
        category_id: 3,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-03-18T07:00:00.000Z",
        amount: 2132,
        category_id: 7,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-12-14T08:00:00.000Z",
        amount: 5396,
        category_id: 8,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-01-20T08:00:00.000Z",
        amount: 3409,
        category_id: 8,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2022-05-01T07:00:00.000Z",
        amount: 17,
        category_id: 2,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-01-02T08:00:00.000Z",
        amount: 2804,
        category_id: 1,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-07-23T07:00:00.000Z",
        amount: 8644,
        category_id: 8,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-09-21T07:00:00.000Z",
        amount: 312,
        category_id: 4,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-03-28T07:00:00.000Z",
        amount: 6786,
        category_id: 3,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-04-11T07:00:00.000Z",
        amount: 3815,
        category_id: 7,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-05-03T07:00:00.000Z",
        amount: 8512,
        category_id: 1,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-02-21T08:00:00.000Z",
        amount: 5699,
        category_id: 8,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-09T08:00:00.000Z",
        amount: 8441,
        category_id: 2,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 2,
        user_id: 2,
        created_at: "2021-10-08T07:00:00.000Z",
        amount: 406,
        category_id: 8,
        username: "Ricky",
        email: "ricky2test@hotmail.com",
        password: "test123",
      },
      {
        id: 1,
        user_id: 1,
        created_at: "2021-07-30T07:00:00.000Z",
        amount: 2193,
        category_id: 6,
        username: "Alvin",
        email: "alvintest@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2021-10-27T07:00:00.000Z",
        amount: 5539,
        category_id: 9,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
      {
        id: 3,
        user_id: 3,
        created_at: "2022-03-27T07:00:00.000Z",
        amount: 4751,
        category_id: 3,
        username: "Kevin",
        email: "kevin3test@hotmail.com",
        password: "test123",
      },
    ],
  };

  const total = getTotalExpensesForUser(state, state.user);

  const expenses = state.expenses.map(exp => {
    return (
      <tr className="table-success d-flex justify-content-around">
      <th scope="row">{exp.created_at.substring(0, 10)}</th>
      <td>{exp.category_id}</td>
      <td>{'$' + exp.amount.toFixed(2)/100}</td>
    </tr>
    )
  })
  

  return (
    <table className="table ">
      <thead className='table-info'>
        <tr className='d-flex justify-content-around'>
          <td>Date</td>
          <td>Category</td>
          <td>Amount</td>
          <td>{total}</td>
        </tr>
      </thead>
      <tbody id='expense-table' className='container list-group infinite-scroll'>
        {expenses}
      </tbody>
    </table>
  );
};